<!DOCTYPE html>
<html>
    <head>
        <title>Etch-A-Sketch</title>
        <link rel='stylesheet' type='text/css' href='style.css'/>
    </head>
    <body>
        <div id='sketchArea'>
            <div id='gridContainer'></div>
        </div>
    </body>
    <script>
        let userNumberSelection = 0;
        generateDivs(chooseNumberOfSquaresPerSide());
        defineGrid();
        function chooseNumberOfSquaresPerSide() {
            userNumberSelection = prompt('How many squares do you want each side to have?');
            numberOfSquaresPerSide = parseInt(userNumberSelection, 10);
            if(isNaN(numberOfSquaresPerSide)) {
                alert('Please enter a numerical value. No letters!');
                generateGrid(chooseNumberOfSquaresPerSide());
            } else {
                numberOfTotalSquares = numberOfSquaresPerSide * numberOfSquaresPerSide;
                return numberOfTotalSquares;
            }
        }
        function generateDivs(numerOfTotalSquares) {
            for(i = 1; i <= numberOfTotalSquares; i++) {
                let gridContainerSelector = document.querySelector('#gridContainer');
                let newDiv = document.createElement('div');
                let divName = "div" + i;
                let newDivContent = document.createElement('p');
                newDivContent.textContent = "";
                newDiv.setAttribute('id', 'div' + i);
                newDiv.appendChild(newDivContent);
                gridContainerSelector.appendChild(newDiv);
                newDiv.addEventListener('mouseover', function() {
                document.getElementById(divName).style.background = 'lightgreen';
                });
            }
        }
        function defineGrid() {
            let x = userNumberSelection;
            let layout = document.getElementById('gridContainer');
            layout.style.display = 'grid';
            layout.style.gridTemplateColumns = 'repeat(' + x + ', 1fr)';
        }
    </script>
</html>